<!-- Chatbot for image -->
<style>.image-upload>input {
  display: none;
  .image-upload>i {
  align-items: center;
  }
}
</style>
<div class="input-box">
    <div class="image-upload">
        <label for="file_input">
            <i class="fa-solid fa-image" style="font-size:2.5rem;padding:1%;"></i>
        </label>
        <input type='file' name='file_input' id="file_input">
    </div>
    <input type="text"
           name="text_input"
           id="text_input"
           value="{{ suggestion }}">
    <input type="hidden"
           name="text_model"
           id="text_model"
           value="{{ _text_model }}">
    <input type="hidden" name="file_type" id="file_type" value="image">
    <i class="fa-solid fa-paper-plane"
       style="font-size:1.5rem"
       hx-post="/v1/chat/completions"
       hx-trigger="keyup[key=='Enter'], click"
       hx-include="#text_input,#text_model,#file_input,#file_type"
       hx-target=".chat-history"
       hx-swap="beforeend scroll:bottom"
       hx-encoding="multipart/form-data"
        hx-indicator=".chat-loader"
        hx-on:htmx:afterRequest="const input=this.closest('.input-box')?.querySelector('input[name=text_input]'); if(input){input.value='';}"></i>
</div>
