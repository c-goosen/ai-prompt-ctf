{% extends "base.html" %}
{% block title %}Level {{_level}}{% endblock %}
{% block head %}
    {{ super() }}
    <style type="text/css">
        .important { color: #336699; }
    </style>
{% endblock %}
{% block content %}
    <!-- Contact -->
							<article id="contact" class="panel">
								<header>

									<h2>Level {{_level}}
<!--									{% if _level == 1 %}<i class="icon fa-solid fa-1 fa-lg"></i>{% endif %}-->
<!--									{% if _level == 2 %}<i class="icon fa-solid fa-2 fa-lg"></i>{% endif %}-->
<!--									{% if _level == 3 %}<i class="icon fa-solid fa-3 fa-lg"></i>{% endif %}-->
<!--									{% if _level == 4 %}<i class="icon fa-solid fa-4 fa-lg"></i>{% endif %}-->
<!--									{% if _level == 5 %}<i class="icon fa-solid fa-5 fa-lg"></i>{% endif %}-->
<!--									{% if _level == 6 %}<i class="icon fa-solid fa-6 fa-lg"></i>{% endif %}-->
<!--									{% if _level == 7 %}<i class="icon fa-solid fa-7 fa-lg"></i>{% endif %}-->
									</h2>
								</header>
								{% if _level == 9 %}
									<p style="text-align: center !important;" class="important">
										This level is different. You need to select a photo that will described getting a secret or password.
										You can try and draw your own image.
										You can additionally add a prompt too and both will go to GPT4-vision.
									</p>

									<form action="/level/9/photo/upload" method="post" enctype="multipart/form-data">

										  <input style="font-size:30pt" type="file" id="file" name="file" accept="image/png, image/jpeg, image/jpg">
																				</br>
										  <textarea name="message" id="message" placeholder="Message" rows="4" value=>"Describe this image?"</textarea>
										  <input type="submit" value="Prompt AI">
									</form>
								{% if _img %}
								<img style="height:600px;width:400px;" src="data:image/jpeg;base64,{{ _img | safe }}"/>
								{% endif %}
								{% if message %}
												<p>Response: {{ message }}</p>
								{% endif %}
								{% endif %}
								{% if _level < 9 and _level != 0 %}
								<p style="text-align: center !important;" class="important">
									Prompt me to try and retrieve a password. I've been told not to do that, but take on the challenge.
								</br>If you get stuck have a look at this <a href="https://learnprompting.org/docs/prompt_hacking/injection">Guide</a>.
								</p>
								{% endif %}
								{% if _level < 9 and _level != 0  %}
								<form action="/level/submit/{{_level}}" method="post">
										<div class="row">
											<div class="col-12">
												<textarea name="message" id="message" placeholder="Message" rows="4"></textarea>

												<input type="submit" value="Prompt AI" />
											</div>

											{% if message %}
												<p>Response: {{ message }}</p>
											{% endif %}
<!--											{% if message_image %}-->
<!--												<img src={{ message_image }}>-->
<!--											{% endif %}-->
											{% if ai_message %}
												<p>AI Response: {{ ai_message }}</p>
											{% endif %}
										</div>
								</form>
								{% endif %}
								{% if _level == 0 %}
								<h3>To get started go to <a href="/start">Start</a> and copy that password into here</h3>
								</br>
								{% endif %}
								<form action="/level/{{_level}}/confirm/" method="post">
										<div class="row">
											<div class="col-12">

												<textarea  name="password" id="password" placeholder="Password" rows="1"></textarea>
												<input type="submit" value="Next level" />


											</div>
										</div>
								</form>
							</article>

					</div>
{% endblock %}



